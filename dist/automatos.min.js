!function(e,n,t){"use strict";function i(){var e,i=n.createElement("fake"),u={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"Animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in u)if(i.style[e]!==t)return u[e]}function u(){for(var e=n.createElement("fake"),t=["animation","-webkit-animation"],i=t.length-1;i>=0;i--)if(null!=e.style[t[i]])return t[i]}function o(e){if(null==e)throw"NotEnoughArguments Error!";if(!e.el||!e.name||!e.duration)throw"NotEnoughArguments Error!";var t={el:e.el||!1,name:e.name||!1,duration:e.duration||!1,iterations:e.iterations||!1,direction:e.direction||!1,delay:e.delay||!1,fillMode:e.fillMode||!1,timingFunc:e.timingFunc||!1},o="string"==typeof t.el?n.querySelector(t.el):t.el,l=i(),r=u(),a={};return a.promise=new Promise(function(e){var n=function(){a.stopped=!0,o.style[r+"-name"]=null,o.style[r+"-duration"]=null,o.style[r+"-play-state"]=null,o.style[r+"-iteration-count"]=null,o.style[r+"-timing-function"]=null,o.style[r+"-fill-mode"]=null,o.style[r+"-direction"]=null,o.style[r+"-delay"]=null,o.removeEventListener(l,n),setTimeout(function(){a._runThens(),e(o)},0)};o.addEventListener(l,n),o.style[r+"-name"]=t.name,null!=t.duration&&(o.style[r+"-duration"]=t.duration/1e3+"s"),null!=t.iterations&&(o.style[r+"-iteration-count"]=t.iterations),null!=t.direction&&(o.style[r+"-direction"]=t.direction),null!=t.delay&&(o.style[r+"-delay"]=t.delay),null!=t.fillMode&&(o.style[r+"-fill-mode"]=t.fillMode),null!=t.timingFunction&&(o.style[r+"-timing-function"]=t.timingFunction)}),a.el=o,a.start=Math.floor(Date.now()),a.stopped=!1,a.queue=[],a.thenQueue=[],a._runQueue=function(){var e=this;setTimeout(function(){if(e.queue.length){var n=Math.floor(Date.now());n-e.start>=e.queue[0].ms&&(e.queue[0].callback.bind(e)(),e.start=n,e.queue=e.queue.slice(1,e.queue.length)),e.queue.length&&e._runQueue()}},0)},a._runThens=function(){this.thenQueue.forEach(function(e,n,t){t=t.splice(1,t.length),"function"==typeof e&&e()})},a.after=function(e,n){return this.queue.push({ms:e,callback:n}),this._runQueue(),this},a.then=function(e){return this.thenQueue.push(e.bind(this)),this},a.play=function(){return this.el.style[r+"-play-state"]="running",this},a.pause=function(){return this.el.style[r+"-play-state"]="paused",this},a.stop=function(){var e=n.createEvent("AnimationEvent");return e.initEvent(l),this.el.dispatchEvent(e),this},a}"function"==typeof define&&define.amd?define(function(){return o}):"undefined"!=typeof module&&module.exports?module.exports=o:"undefined"!=typeof e&&(e.automatos=o)}(window,document);