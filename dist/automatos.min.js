!function(e,t,n){"use strict";function i(){var e,i=t.createElement("fake"),o={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"Animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in o)if(i.style[e]!==n)return o[e]}function o(){for(var e=t.createElement("fake"),n=["animation","-webkit-animation"],i=n.length-1;i>=0;i--)if(null!=e.style[n[i]])return n[i]}function u(e){var n={el:e.el||!1,name:e.name||!1,duration:e.duration||!1,iterations:e.iterations||!1,direction:e.direction||!1,delay:e.delay||!1,fillMode:e.fillMode||!1,timingFunc:e.timingFunc||!1};if(console.log(n),!n.el&&!n.name&&!n.duration)throw new UserException("NotEnoughArguments");var u="string"==typeof element?t.querySelector(element):element,a=i(),r=o(),l={};return l.promise=new Promise(function(e){u.addEventListener(a,function(){l.stopped=!0,u.style[r+"-name"]=null,u.style[r+"-duration"]=null,u.style[r+"-play-state"]=null,u.style[r+"-iteration-count"]=null,u.removeEventListener(a),setTimeout(function(){e(u)},0)}),u.style[r+"-name"]=animationName,null!=animationLength&&(u.style[r+"-duration"]=animationLength/1e3+"s"),null!=iterationCount&&(u.style[r+"-iteration-count"]=iterationCount),null!=direction&&(u.style[r+"-direction"]=direction)}),l.el=u,l.start=Math.floor(Date.now()),l.stopped=!1,l.queue=[],l._runQueue=function(){var e=this;setTimeout(function(){if(e.queue.length){var t=Math.floor(Date.now());t-e.start>=e.queue[0].ms&&(e.queue[0].callback.bind(e)(),e.start=t,e.queue=e.queue.slice(1,e.queue.length)),e.queue.length&&e._runQueue()}},0)},l.after=function(e,t){return this.queue.push({ms:e,callback:t}),this._runQueue(),this},l.play=function(){return this.el.style[r+"-play-state"]="running",this},l.pause=function(){return this.el.style[r+"-play-state"]="paused",this},l.stop=function(){var e=t.createEvent("AnimationEvent");return e.initEvent(a),this.el.dispatchEvent(e),this},l.direction=function(e){return this.el.style[r+"-direction"]=e,this},l}"function"==typeof define&&define.amd?define(function(){return u}):"undefined"!=typeof module&&module.exports?module.exports=u:"undefined"!=typeof e&&(e.automatos=u)}(window,document);